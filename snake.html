<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Classic Snake Game</title>

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background-color: #111;
            color: #00ff00;
            font-family: "Courier New", Courier, monospace;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }

        .game-wrapper {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        h1 {
            margin-bottom: 10px;
            font-size: 32px;
            text-shadow: 0 0 10px #00ff00;
        }

        .score-board {
            margin-bottom: 10px;
            font-size: 18px;
        }

        canvas {
            background-color: #000;
            border: 4px solid #00ff00;
        }

        .instructions {
            margin-top: 10px;
            font-size: 14px;
            opacity: 0.8;
        }

        .game-over {
            margin-top: 10px;
            font-size: 20px;
            color: red;
            display: none;
        }

        button {
            margin-bottom: 10px;
            padding: 8px 20px;
            font-family: inherit;
            font-size: 16px;
            background-color: #000;
            color: #00ff00;
            border: 2px solid #00ff00;
            cursor: pointer;
        }

        button:hover {
            background-color: #00ff00;
            color: #000;
        }
    </style>
</head>

<body>

<div class="game-wrapper">

    <h1>üêç SNAKE</h1>

    <button id="startButton">START</button>

    <div class="score-board">
        Score: <span id="score">0</span>
    </div>

    <canvas id="gameCanvas" width="400" height="400"></canvas>

    <div class="instructions">
        Arrow Keys or WASD to Move | Space to Pause | R to Restart
    </div>

    <div class="game-over" id="gameOverText">
        GAME OVER
    </div>

</div>

<script>
    const canvas = document.getElementById("gameCanvas");
    const ctx = canvas.getContext("2d");

    const TILE_SIZE = 20;
    const TILE_COUNT = canvas.width / TILE_SIZE;

    let snake;
    let direction;
    let food;
    let score;
    let gameInterval;
    let gameSpeed;
    let isGameOver;
    let hasStarted = false;
    let isPaused = false; // ‚úÖ NEW

    function initGame() {
        snake = [
            { x: Math.floor(TILE_COUNT / 2), y: Math.floor(TILE_COUNT / 2) }
        ];

        direction = { x: -1, y: 0 };
        food = spawnFood();
        score = 0;
        gameSpeed = 120;
        isGameOver = false;
        hasStarted = false;
        isPaused = false;

        document.getElementById("score").innerText = score;
        document.getElementById("gameOverText").style.display = "none";

        clearInterval(gameInterval);
        draw();
    }

    function startGame() {
        if (hasStarted) return;
        hasStarted = true;
        isPaused = false;
        clearInterval(gameInterval);
        gameInterval = setInterval(gameLoop, gameSpeed);
    }

    function gameLoop() {
        if (isGameOver || isPaused) return;
        update();
        draw();
    }

    function update() {
        const head = {
            x: snake[0].x + direction.x,
            y: snake[0].y + direction.y
        };

        if (
            head.x < 0 ||
            head.y < 0 ||
            head.x >= TILE_COUNT ||
            head.y >= TILE_COUNT
        ) {
            endGame();
            return;
        }

        for (let i = 0; i < snake.length; i++) {
            if (head.x === snake[i].x && head.y === snake[i].y) {
                endGame();
                return;
            }
        }

        snake.unshift(head);

        if (head.x === food.x && head.y === food.y) {
            score++;
            document.getElementById("score").innerText = score;
            food = spawnFood();
        } else {
            snake.pop();
        }
    }

    function draw() {
        ctx.fillStyle = "#000";
        ctx.fillRect(0, 0, canvas.width, canvas.height);

        ctx.fillStyle = "red";
        ctx.fillRect(
            food.x * TILE_SIZE,
            food.y * TILE_SIZE,
            TILE_SIZE,
            TILE_SIZE
        );

        ctx.fillStyle = "#00ff00";
        for (let i = 0; i < snake.length; i++) {
            ctx.fillRect(
                snake[i].x * TILE_SIZE,
                snake[i].y * TILE_SIZE,
                TILE_SIZE,
                TILE_SIZE
            );
        }

        // ‚úÖ PAUSED TEXT
        if (isPaused) {
            ctx.fillStyle = "#00ff00";
            ctx.font = "30px Courier New";
            ctx.textAlign = "center";
            ctx.fillText("PAUSED", canvas.width / 2, canvas.height / 2);
        }
    }

    function spawnFood() {
        let newFood;
        while (true) {
            newFood = {
                x: Math.floor(Math.random() * TILE_COUNT),
                y: Math.floor(Math.random() * TILE_COUNT)
            };

            let collision = false;
            for (let i = 0; i < snake.length; i++) {
                if (snake[i].x === newFood.x && snake[i].y === newFood.y) {
                    collision = true;
                    break;
                }
            }

            if (!collision) break;
        }
        return newFood;
    }

    function endGame() {
        isGameOver = true;
        clearInterval(gameInterval);
        document.getElementById("gameOverText").style.display = "block";
    }

    document.addEventListener("keydown", function (event) {
        // ‚úÖ SPACEBAR TO PAUSE
        if (event.code === "Space" && hasStarted && !isGameOver) {
            isPaused = !isPaused;
            if (!isPaused) draw();
            return;
        }

        if (!hasStarted || isPaused) return;

        switch (event.key) {
            case "ArrowUp":
            case "w":
            case "W":
                if (direction.y === 0) direction = { x: 0, y: -1 };
                break;

            case "ArrowDown":
            case "s":
            case "S":
                if (direction.y === 0) direction = { x: 0, y: 1 };
                break;

            case "ArrowLeft":
            case "a":
            case "A":
                if (direction.x === 0) direction = { x: -1, y: 0 };
                break;

            case "ArrowRight":
            case "d":
            case "D":
                if (direction.x === 0) direction = { x: 1, y: 0 };
                break;

            case "r":
            case "R":
                initGame();
                break;
        }
    });

    document.getElementById("startButton").addEventListener("click", startGame);

    initGame();
</script>

</body>
</html>

